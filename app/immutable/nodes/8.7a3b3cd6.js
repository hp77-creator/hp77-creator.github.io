import{S as Ae,i as De,s as Ve,e as X,a as A,K as Re,h as o,c as D,E as f,b as y,d as B,f as le,g as S,o as Se,k as d,l as h,n as _,v as re,q as V,m as p,r as R,u as T,G as U,y as $e,z as we,A as Le,B as Pe,J as Ce}from"../chunks/index.c8c469ad.js";import{a as Be,E as Ne}from"../chunks/library.47fcc399.js";import{M as Me}from"../chunks/Markdown.e98c774e.js";function ue(i,e,l){const r=i.slice();return r[3]=e[l],r}function _e(i){let e,l,r,t;return document.title=e=i[0].title+" | Library",{c(){l=A(),r=d("meta"),this.h()},l(n){l=D(n),r=h(n,"META",{name:!0,content:!0}),this.h()},h(){_(r,"name","description"),_(r,"content",t=i[0].description)},m(n,a){y(n,l,a),y(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+" | Library")&&(document.title=e),a&1&&t!==(t=n[0].description)&&_(r,"content",t)},d(n){n&&o(l),n&&o(r)}}}function ze(i){var ae;let e,l,r,t,n=Ie(i[0].type)+"",a,s,m,k,C,c=i[0].type==="paper"?"Paper":i[0].type==="book"?"Book":"Link",E,N,Y,q,G=i[0].title+"",H,Z,J,K,j,x,ee=i[0].content&&i[0].content.trim(),F,O,M,te,z,L=i[0].status==="reading"&&de(),I=(i[0].authors||i[0].year)&&he(i),$=i[0].description&&be(i),v=i[0].url&&ge(i),w=((ae=i[0].tags)==null?void 0:ae.length)&&ke(i),b=ee&&Ee(i);return{c(){e=d("article"),l=d("div"),r=d("div"),t=d("span"),a=V(n),s=A(),m=d("div"),k=d("div"),C=d("span"),E=V(c),N=A(),L&&L.c(),Y=A(),q=d("h1"),H=V(G),Z=A(),I&&I.c(),J=A(),$&&$.c(),K=A(),v&&v.c(),j=A(),w&&w.c(),x=A(),b&&b.c(),F=A(),O=d("div"),M=d("a"),te=V("← Back to Library"),this.h()},l(u){e=h(u,"ARTICLE",{class:!0});var g=p(e);l=h(g,"DIV",{class:!0});var P=p(l);r=h(P,"DIV",{class:!0});var Q=p(r);t=h(Q,"SPAN",{class:!0});var ne=p(t);a=R(ne,n),ne.forEach(o),s=D(Q),m=h(Q,"DIV",{});var ie=p(m);k=h(ie,"DIV",{class:!0});var W=p(k);C=h(W,"SPAN",{class:!0});var se=p(C);E=R(se,c),se.forEach(o),N=D(W),L&&L.l(W),W.forEach(o),ie.forEach(o),Q.forEach(o),Y=D(P),q=h(P,"H1",{class:!0});var oe=p(q);H=R(oe,G),oe.forEach(o),Z=D(P),I&&I.l(P),J=D(P),$&&$.l(P),K=D(P),v&&v.l(P),j=D(P),w&&w.l(P),P.forEach(o),x=D(g),b&&b.l(g),F=D(g),O=h(g,"DIV",{class:!0});var fe=p(O);M=h(fe,"A",{href:!0,class:!0});var ce=p(M);te=R(ce,"← Back to Library"),ce.forEach(o),fe.forEach(o),g.forEach(o),this.h()},h(){_(t,"class","text-4xl"),_(C,"class","text-xs px-2 py-0.5 bg-neutral-100 text-neutral-600 rounded"),_(k,"class","flex items-center gap-2 flex-wrap"),_(r,"class","flex items-center gap-2 mb-4"),_(q,"class","text-4xl font-bold mb-4"),_(l,"class","mb-8"),_(M,"href","/library"),_(M,"class","text-blue-600 hover:text-blue-700 font-medium"),_(O,"class","mt-12 pt-6 border-t border-neutral-200"),_(e,"class","layout-md py-8")},m(u,g){y(u,e,g),f(e,l),f(l,r),f(r,t),f(t,a),f(r,s),f(r,m),f(m,k),f(k,C),f(C,E),f(k,N),L&&L.m(k,null),f(l,Y),f(l,q),f(q,H),f(l,Z),I&&I.m(l,null),f(l,J),$&&$.m(l,null),f(l,K),v&&v.m(l,null),f(l,j),w&&w.m(l,null),f(e,x),b&&b.m(e,null),f(e,F),f(e,O),f(O,M),f(M,te),z=!0},p(u,g){var P;(!z||g&1)&&n!==(n=Ie(u[0].type)+"")&&T(a,n),(!z||g&1)&&c!==(c=u[0].type==="paper"?"Paper":u[0].type==="book"?"Book":"Link")&&T(E,c),u[0].status==="reading"?L||(L=de(),L.c(),L.m(k,null)):L&&(L.d(1),L=null),(!z||g&1)&&G!==(G=u[0].title+"")&&T(H,G),u[0].authors||u[0].year?I?I.p(u,g):(I=he(u),I.c(),I.m(l,J)):I&&(I.d(1),I=null),u[0].description?$?$.p(u,g):($=be(u),$.c(),$.m(l,K)):$&&($.d(1),$=null),u[0].url?v?(v.p(u,g),g&1&&S(v,1)):(v=ge(u),v.c(),S(v,1),v.m(l,j)):v&&(re(),B(v,1,1,()=>{v=null}),le()),(P=u[0].tags)!=null&&P.length?w?w.p(u,g):(w=ke(u),w.c(),w.m(l,null)):w&&(w.d(1),w=null),g&1&&(ee=u[0].content&&u[0].content.trim()),ee?b?(b.p(u,g),g&1&&S(b,1)):(b=Ee(u),b.c(),S(b,1),b.m(e,F)):b&&(re(),B(b,1,1,()=>{b=null}),le())},i(u){z||(S(v),S(b),z=!0)},o(u){B(v),B(b),z=!1},d(u){u&&o(e),L&&L.d(),I&&I.d(),$&&$.d(),v&&v.d(),w&&w.d(),b&&b.d()}}}function Te(i){let e,l,r;return{c(){e=d("div"),l=d("p"),r=V("Item not found"),this.h()},l(t){e=h(t,"DIV",{class:!0});var n=p(e);l=h(n,"P",{class:!0});var a=p(l);r=R(a,"Item not found"),a.forEach(o),n.forEach(o),this.h()},h(){_(l,"class","text-neutral-600"),_(e,"class","layout-md py-8")},m(t,n){y(t,e,n),f(e,l),f(l,r)},p:U,i:U,o:U,d(t){t&&o(e)}}}function qe(i){let e,l,r;return{c(){e=d("div"),l=d("p"),r=V("Loading..."),this.h()},l(t){e=h(t,"DIV",{class:!0});var n=p(e);l=h(n,"P",{class:!0});var a=p(l);r=R(a,"Loading..."),a.forEach(o),n.forEach(o),this.h()},h(){_(l,"class","text-neutral-600"),_(e,"class","layout-md py-8")},m(t,n){y(t,e,n),f(e,l),f(l,r)},p:U,i:U,o:U,d(t){t&&o(e)}}}function de(i){let e,l;return{c(){e=d("span"),l=V("📖 Currently Reading"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var t=p(e);l=R(t,"📖 Currently Reading"),t.forEach(o),this.h()},h(){_(e,"class","text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded font-medium")},m(r,t){y(r,e,t),f(e,l)},d(r){r&&o(e)}}}function he(i){let e,l,r,t=i[0].authors&&pe(i),n=i[0].authors&&i[0].year&&me(),a=i[0].year&&ve(i);return{c(){e=d("p"),t&&t.c(),l=A(),n&&n.c(),r=A(),a&&a.c(),this.h()},l(s){e=h(s,"P",{class:!0});var m=p(e);t&&t.l(m),l=D(m),n&&n.l(m),r=D(m),a&&a.l(m),m.forEach(o),this.h()},h(){_(e,"class","text-lg text-neutral-600 mb-4")},m(s,m){y(s,e,m),t&&t.m(e,null),f(e,l),n&&n.m(e,null),f(e,r),a&&a.m(e,null)},p(s,m){s[0].authors?t?t.p(s,m):(t=pe(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),s[0].authors&&s[0].year?n||(n=me(),n.c(),n.m(e,r)):n&&(n.d(1),n=null),s[0].year?a?a.p(s,m):(a=ve(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(s){s&&o(e),t&&t.d(),n&&n.d(),a&&a.d()}}}function pe(i){let e=i[0].authors+"",l;return{c(){l=V(e)},l(r){l=R(r,e)},m(r,t){y(r,l,t)},p(r,t){t&1&&e!==(e=r[0].authors+"")&&T(l,e)},d(r){r&&o(l)}}}function me(i){let e;return{c(){e=V("·")},l(l){e=R(l,"·")},m(l,r){y(l,e,r)},d(l){l&&o(e)}}}function ve(i){let e=i[0].year+"",l;return{c(){l=V(e)},l(r){l=R(r,e)},m(r,t){y(r,l,t)},p(r,t){t&1&&e!==(e=r[0].year+"")&&T(l,e)},d(r){r&&o(l)}}}function be(i){let e,l=i[0].description+"",r;return{c(){e=d("p"),r=V(l),this.h()},l(t){e=h(t,"P",{class:!0});var n=p(e);r=R(n,l),n.forEach(o),this.h()},h(){_(e,"class","text-lg text-neutral-700 mb-4")},m(t,n){y(t,e,n),f(e,r)},p(t,n){n&1&&l!==(l=t[0].description+"")&&T(r,l)},d(t){t&&o(e)}}}function ge(i){let e,l,r,t,n;return l=new Ne({props:{size:18}}),{c(){e=d("a"),$e(l.$$.fragment),r=V(`
          Read Original Source`),this.h()},l(a){e=h(a,"A",{href:!0,target:!0,rel:!0,class:!0});var s=p(e);we(l.$$.fragment,s),r=R(s,`
          Read Original Source`),s.forEach(o),this.h()},h(){_(e,"href",t=i[0].url),_(e,"target","_blank"),_(e,"rel","noopener noreferrer"),_(e,"class","inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors")},m(a,s){y(a,e,s),Le(l,e,null),f(e,r),n=!0},p(a,s){(!n||s&1&&t!==(t=a[0].url))&&_(e,"href",t)},i(a){n||(S(l.$$.fragment,a),n=!0)},o(a){B(l.$$.fragment,a),n=!1},d(a){a&&o(e),Pe(l)}}}function ke(i){let e,l=i[0].tags,r=[];for(let t=0;t<l.length;t+=1)r[t]=ye(ue(i,l,t));return{c(){e=d("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=h(t,"DIV",{class:!0});var n=p(e);for(let a=0;a<r.length;a+=1)r[a].l(n);n.forEach(o),this.h()},h(){_(e,"class","flex flex-wrap gap-2 mt-6")},m(t,n){y(t,e,n);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(t,n){if(n&1){l=t[0].tags;let a;for(a=0;a<l.length;a+=1){const s=ue(t,l,a);r[a]?r[a].p(s,n):(r[a]=ye(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=l.length}},d(t){t&&o(e),Ce(r,t)}}}function ye(i){let e,l=i[3]+"",r,t,n;return{c(){e=d("a"),r=V(l),t=A(),this.h()},l(a){e=h(a,"A",{href:!0,class:!0});var s=p(e);r=R(s,l),t=D(s),s.forEach(o),this.h()},h(){_(e,"href",n=`/library#${encodeURIComponent(i[3])}`),_(e,"class","text-sm px-3 py-1 bg-neutral-100 text-neutral-700 rounded-full hover:bg-neutral-200 transition-colors")},m(a,s){y(a,e,s),f(e,r),f(e,t)},p(a,s){s&1&&l!==(l=a[3]+"")&&T(r,l),s&1&&n!==(n=`/library#${encodeURIComponent(a[3])}`)&&_(e,"href",n)},d(a){a&&o(e)}}}function Ee(i){let e,l,r;return l=new Me({props:{source:i[0].content}}),{c(){e=d("div"),$e(l.$$.fragment),this.h()},l(t){e=h(t,"DIV",{class:!0});var n=p(e);we(l.$$.fragment,n),n.forEach(o),this.h()},h(){_(e,"class","prose prose-neutral max-w-none")},m(t,n){y(t,e,n),Le(l,e,null),r=!0},p(t,n){const a={};n&1&&(a.source=t[0].content),l.$set(a)},i(t){r||(S(l.$$.fragment,t),r=!0)},o(t){B(l.$$.fragment,t),r=!1},d(t){t&&o(e),Pe(l)}}}function Oe(i){let e,l,r,t,n,a,s=i[0]&&_e(i);const m=[qe,Te,ze],k=[];function C(c,E){return c[1]?0:c[0]?2:1}return r=C(i),t=k[r]=m[r](i),{c(){s&&s.c(),e=X(),l=A(),t.c(),n=X()},l(c){const E=Re("svelte-sbozib",document.head);s&&s.l(E),e=X(),E.forEach(o),l=D(c),t.l(c),n=X()},m(c,E){s&&s.m(document.head,null),f(document.head,e),y(c,l,E),k[r].m(c,E),y(c,n,E),a=!0},p(c,[E]){c[0]?s?s.p(c,E):(s=_e(c),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let N=r;r=C(c),r===N?k[r].p(c,E):(re(),B(k[N],1,1,()=>{k[N]=null}),le(),t=k[r],t?t.p(c,E):(t=k[r]=m[r](c),t.c()),S(t,1),t.m(n.parentNode,n))},i(c){a||(S(t),a=!0)},o(c){B(t),a=!1},d(c){s&&s.d(c),o(e),c&&o(l),k[r].d(c),c&&o(n)}}}function Ie(i){switch(i){case"paper":return"📄";case"book":return"📚";case"link":return"🔗";default:return"📝"}}function Ue(i,e,l){let{data:r}=e,t=null,n=!0;return Se(async()=>{l(0,t=await Be(r.slug)),l(1,n=!1)}),i.$$set=a=>{"data"in a&&l(2,r=a.data)},[t,n,r]}class Ke extends Ae{constructor(e){super(),De(this,e,Ue,Oe,Ve,{data:2})}}export{Ke as component};
